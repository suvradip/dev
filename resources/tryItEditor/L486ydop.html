<!DOCTYPE html>
<html>
<head>
    <title>FusionCharts :  Try It editor</title>
    <link rel="stylesheet" type="text/css" href="css/editor-style.css">
    <script type="text/javascript" src="scripts/jquery.js"></script>
    <script language="Javascript" type="text/javascript" src="edit_area/edit_area_full.js"></script>
</head>
<body>
<div class="fctie_wrapper">
    <div class="fctie_header">
        <div class="fctie_header-rad">
            External Libraries (Click to include/exclude): <span class="button-wrapper"><button class="fctie_lib_button btn" data-index="__index__" title="Click to INCLUDE this library">__name__<span></span></button></span>
        </div>
      

        <div class="fctie_test">
            <div class="fctie_header-block">
                <a title="Export the output as standalone html file" href=""  class="fctie_a-export btn btn-blue" download>export</a>   
            </div>
        </div>
    </div>
   
    <div class="fctie_container">

        <div  class="fctie_block">
          <div class="fctie_block-heading">Give your code here</div>  
          <div class="fctie_block-container fctie_input"><textarea id="tryit">
<script type="text/javascript" src="http://static.fusioncharts.com/code/latest/fusioncharts.js"></script>
<script type="text/javascript" src="http://static.fusioncharts.com/code/latest/fusioncharts.charts.js"></script>
<!-- This sample shows the usage of the getCSVData() method -->
<div id="indicatorDiv">Method Name: <b>getCSVData()</b>

    <br>
    <br>Fetch chart data set in the CSV format. The data returned is the closest possible comma-separated value representation that has been provided to the chart. The exported data does not contain any functional or cosmetic attribute that was set on the chart.
    <br>Click <b>Get CSV Data</b> to the chart CSV data.</br>
</div>
<br>
<center>
    <br>
    <button id="get_csv_data">Get CSV Data</button>
    </br>
    <br>
    <div id="csv_data"><i>The CSV data is shown here.</i>

    </div>
    </br>
    <div id="chart-container">FusionCharts will render here</div>
</center><script type="text/javascript">FusionCharts.ready(function () {
    var revenueChart = new FusionCharts({
        type: 'doughnut3d',
        renderAt: 'chart-container',
        width: '450',
        height: '250',
        dataFormat: 'json',
        dataSource: {
            "chart": {
                "caption": "Split of Revenue by Product Categories",
                    "subCaption": "Last year",
                    "numberPrefix": "$",
                    "theme": "fint",
                    "captionFontSize": "13",
                    "subcaptionFontSize": "12",
                    "subcaptionFontBold": "0"
            },
                "data": [{
                "label": "Food",
                    "value": "28504"
            }, {
                "label": "Apparels",
                    "value": "14633"
            }, {
                "label": "Electronics",
                    "value": "10507"
            }, {
                "label": "Household",
                    "value": "4910"
            }]
        }
    }).render();

    /**
     * @description
     * The getCSVData() method fetches chart data set in the CSV format.
The data returned is the closest possible comma-separated value representation that has been provided to the chart. The exported data does not contain any functional or cosmetic attribute that was set on the chart. However, the following chart attributes can be set to customise the CSV output:
     * @param {String} exportDataSeparator: Sets the CSV delimiter string. Default: , (comma)
     * @param {String} exportDataQualifier: Sets the CSV qualifier string. Default: {quot}
     * @param {Boolean} exportDataFormattedVal: Sets whether the output will be a formatted string or a pure number.
     * @param {Boolean} exportErrorColumns: Forces error output on the error bar, error line, and error scatter charts
     * usage: chartObj.getCSVData();
     *         
     */
    function getCSV() {
        //var separator = document.getElementById("separator").value;
        //var qualifier = document.getElementById("qualifier").value;
        console.log(revenueChart.getCSVData);
        var csv = revenueChart.getCSVData();
        csv = csv.replace(/\n/g, "<br>");
        document.getElementById('csv_data').innerHTML = csv;
    }

    document.getElementById("get_csv_data").addEventListener("click", getCSV);
});</script></textarea></div>
        </div>
        <input type="submit" value="execute" id="execute-btn" class="fctie_input-execute btn btn-transparent"/>    
        <div class="fctie_block ">
            <div class="fctie_block-heading">Output of your code</div> 
            <div class="fctie_block-container output-block"> <object type="text/html" src="" data="" id="fctie_output"></object></div> 
        </div>
        
    </div>
    <div class="fctie_footer">
        Note: Your code will become the body content of the output, no need to specify "html" or "head" tag.
    </div>

</div>
<script>


  var a = $(".fctie_header").outerHeight(),
      b = $(".fctie_block-heading").outerHeight(),
      c = $(window).height();

  var d = c - (a + b + 180);

  $(".output-block").css("height", d);
  var theight = $(".output-block").css("height");
  var resizeTextArea =(function(){
  $("#tryit").css("width","100%");
  $("#tryit").css("height",theight);
  $("#fctie_output").css("height",theight);
  });

var settings = {

    "id": "tryit", // id of the textarea to transform    
    "start_highlight": true,  // if start with highlight
    "allow_resize": false,
    "allow_toggle": false,
    "word_wrap": true,
    "language": "en",
    "syntax": "js", 
    "toolbar": "Editor", //undo,redo
    "EA_init_callback": resizeTextArea()
};

 editAreaLoader.init(settings);

$(window).resize(function(event) {
  jQuery("#fcwp_block").css({"height":jQuery(window).height(), "width":jQuery(window).width()});
  editAreaLoader.execCommand("tryit", "init", settings);
});



</script>
<script type="text/javascript" src="scripts/editor-interactivity.js"></script>
</body>
</html>

