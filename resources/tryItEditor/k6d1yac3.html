<!DOCTYPE html>
<html>
<head>
    <title>FusionCharts :  Try It editor</title>
    <link rel="stylesheet" type="text/css" href="css/editor-style.css">
    <script type="text/javascript" src="scripts/jquery.js"></script>
    <script language="Javascript" type="text/javascript" src="edit_area/edit_area_full.js"></script>
</head>
<body>
<div class="fctie_wrapper">
    <div class="fctie_header">
        <div class="fctie_header-rad">
            External Libraries (Click to include/exclude): <span class="button-wrapper"><button class="fctie_lib_button btn" data-index="__index__" title="Click to INCLUDE this library">__name__<span></span></button></span>
        </div>
      

        <div class="fctie_test">
            <div class="fctie_header-block">
                <a title="Export the output as standalone html file" href=""  class="fctie_a-export btn btn-blue" download>export</a>   
            </div>
        </div>
    </div>
   
    <div class="fctie_container">

        <div  class="fctie_block">
          <div class="fctie_block-heading">Give your code here</div>  
          <div class="fctie_block-container fctie_input"><textarea id="tryit">
<script type="text/javascript" src="http://static.fusioncharts.com/code/latest/fusioncharts.js"></script>
<script type="text/javascript" src="http://static.fusioncharts.com/code/latest/fusioncharts.charts.js"></script>
<!-- This sample shows the usage of the dataReady() method -->
<div id="indicatorDiv">Method Name: <b>dataReady()</b>

    <br>
    <br>Determines whether a chart will render properly with the data set on it. This includes data that is set using the <a href="http://www.fusioncharts.com/dev/api/fusioncharts/fusioncharts-methods.html#setChartData" target="_blank">setChartData()</a> or <a href="http://www.fusioncharts.com/dev/api/fusioncharts/fusioncharts-methods.html#setChartDataUrl" target="_blank">setChartDataUrl()</a> methods.</br>
    <br>For this implementation, we have a column 2D chart and a drop-down from which the user selects the data to plot on the chart. As the chart used is a single-series column 2D chart, the method is configured to show a <i>Data invalid</i> message every time multi-series data is passed to the chart.</br>
    <br>
    <center>Select the data to plot on the column 2D chart:
        <br></br>
        <select id="data">
            <option value="qra">Quarterly revenue analysis-2014</option>
            <option value="qrc">Quarterly revenue comparision-2013 and 2014</option>
            <option value="qrfp">Quarterly revenue from food products-2014</option>
            <option value="qrnfp">Quarterly revenue from non-food products-2014</option>
            <option value="rcfnfp">Quarterly revenue comparison for food and non-food products-2014</option>
        </select>
    </center>
    <br>
    <center>
        <br>
        <button id="rend">Render the chart</button>
        </br>
        <br>
        <div id="msg"><i>Message...</i>
        </div>
        </br>
        <br>
        <div id="chart-container" class="container">FusionCharts will render here.</div>
        </br>
    </center>
</div><script type="text/javascript">FusionCharts.ready(function () {
    var qra_data = {
        "chart": {
            "caption": "Quarterly revenue analysis-2014",
                "subCaption": "Harry's SuperMart",
                "xAxisName": "Quarter",
                "yAxisname": "Revenue",
                "numberPrefix": "$",
                "theme": "fint",
                "captionFontSize": "13",
                "subCaptionFontSize": "12"
        },

            "data": [{
            "label": "Q1",
                "value": "2850400"
        }, {
            "label": "Q2",
                "value": "1463300"
        }, {
            "label": "Q3",
                "value": "1050700"
        }, {
            "label": "Q4",
                "value": "4910000"
        }]
    };

    var qrc_data = {
        "chart": {
            "caption": "Quarterly revenue comparision-2013 and 2014",
                "subCaption": "Harry's SuperMart",
                "xAxisName": "Quarter",
                "yAxisName": "Revenue",
                "numberPrefix": "$",
                "theme": "fint",
                "captionFontSize": "13",
                "subCaptionFontSize": "12"
        },
            "categories": [{
            "category": []
        }],
            "dataset": []
    };

    var qrfp_data = {
        "chart": {
            "caption": "Quarterly revenue from food products-2014",
                "subCaption": "Harry's SuperMart",
                "xAxisName": "Quarter",
                "yAxisname": "Revenue",
                "numberPrefix": "$",
                "theme": "fint",
                "captionFontSize": "13",
                "subCaptionFontSize": "12"
        },

            "data": [{
            "label": "Q1",
                "value": "175000"
        }, {
            "label": "Q2",
                "value": "646520"
        }, {
            "label": "Q3",
                "value": "245000"
        }, {
            "label": "Q4",
                "value": "345690"
        }]
    };

    var qrnfp_data = {
        "chart": {
            "caption": "Quarterly revenue from non-food products-2014",
                "subCaption": "Harry's SuperMart",
                "xAxisName": "Quarter",
                "yAxisname": "Revenue",
                "numberPrefix": "$",
                "theme": "fint",
                "captionFontSize": "13",
                "subCaptionFontSize": "12"
        },

            "data": [{
            "label": "Q1",
                "value": "254300"
        }, {
            "label": "Q2",
                "value": "325400"
        }, {
            "label": "Q3",
                "value": "253000"
        }, {
            "label": "Q4",
                "value": "452000"
        }]
    };

    var rcfnfp_data = {
        "chart": {
            "caption": "Quarterly revenue comparison for food and non-food products-2014",
                "subCaption": "Harry's SuperMart",
                "xAxisName": "Quarter",
                "yAxisName": "Revenue",
                "numberPrefix": "$",
                "theme": "fint",
                "captionFontSize": "13",
                "subCaptionFontSize": "12"
        },
            "categories": [],
            "dataset": []
    };

    var revenueChart = new FusionCharts({
        type: 'pie3d',
        renderAt: 'chart-container',
        width: '400',
        height: '250',
        dataFormat: 'json',
        dataSource: qrc_data
    });

    function render() {
        var data = document.getElementById("data").value;

        if (data == 'qra') {
            revenueChart.setChartData(qra_data);
        } else if (data == 'qrc') {
            revenueChart.setChartData(qrc_data);
        } else if (data == 'qrfp') {
            revenueChart.setChartData(qrfp_data);
        } else if (data == 'qrnfp') {
            revenueChart.setChartData(qrnfp_data);
        } else if (data == 'rcfnfp') {
            revenueChart.setChartData(rcfnfp_data);
        }

        revenueChart.render();

        /**
     * @description
     * The dataReady() method determines whether a chart will render properly with the data set on it. This includes data that is set using the setChartData() or setChartDataUrl() methods.

     * @param {Boolean} available: Setting this parameter to true returns the status of the data, irrespective of its compatibility with the chart type. In that case, this function will return false if data provided to the chart triggers the dataLoadError or dataInvalid events
     * usage: chartObj.dataReady(available);
     *         
     */

        var flag = revenueChart.dataReady();
        var msg = document.getElementById("msg");
        if (flag) {
            msg.innerHTML = "Data valid. Scroll down to view the chart.";
        } else {
            msg.innerHTML = "Data invalid";
        }
    }


    document.getElementById("rend").addEventListener("click", render);
});</script></textarea></div>
        </div>
        <input type="submit" value="execute" id="execute-btn" class="fctie_input-execute btn btn-transparent"/>    
        <div class="fctie_block ">
            <div class="fctie_block-heading">Output of your code</div> 
            <div class="fctie_block-container output-block"> <object type="text/html" src="" data="" id="fctie_output"></object></div> 
        </div>
        
    </div>
    <div class="fctie_footer">
        Note: Your code will become the body content of the output, no need to specify "html" or "head" tag.
    </div>

</div>
<script>


  var a = $(".fctie_header").outerHeight(),
      b = $(".fctie_block-heading").outerHeight(),
      c = $(window).height();

  var d = c - (a + b + 180);

  $(".output-block").css("height", d);
  var theight = $(".output-block").css("height");
  var resizeTextArea =(function(){
  $("#tryit").css("width","100%");
  $("#tryit").css("height",theight);
  $("#fctie_output").css("height",theight);
  });

var settings = {

    "id": "tryit", // id of the textarea to transform    
    "start_highlight": true,  // if start with highlight
    "allow_resize": false,
    "allow_toggle": false,
    "word_wrap": true,
    "language": "en",
    "syntax": "js", 
    "toolbar": "Editor", //undo,redo
    "EA_init_callback": resizeTextArea()
};

 editAreaLoader.init(settings);

$(window).resize(function(event) {
  jQuery("#fcwp_block").css({"height":jQuery(window).height(), "width":jQuery(window).width()});
  editAreaLoader.execCommand("tryit", "init", settings);
});



</script>
<script type="text/javascript" src="scripts/editor-interactivity.js"></script>
</body>
</html>

